<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bootstrap Modal & Alert Fix - Example</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    
    <style>
        /* ================================================================
           CRITICAL: PRODUCTION-READY MODAL & ALERT CSS
           ================================================================ */
        
        :root {
            --navbar-height: 70px;
            --rich-gold: #D4AF37;
            --glass-panel: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(212, 175, 55, 0.45);
        }
        
        /* Fixed Navbar */
        .navbar {
            height: var(--navbar-height);
            background: #0A0A0A !important;
            border-bottom: 2px solid var(--rich-gold);
        }
        
        /* ================================================================
           MODAL FIX - Top Alignment (Below Navbar)
           ================================================================ */
        
        .modal-dialog {
            /* Top alignment using margin-top (adjust based on navbar height) */
            margin-top: calc(var(--navbar-height) + 10px) !important;
            margin-left: auto !important;
            margin-right: auto !important;
            margin-bottom: 20px !important;
            
            /* Reset any absolute positioning */
            position: relative !important;
            transform: none !important;
            
            /* Restore proper width behavior */
            max-width: 600px !important;
            width: calc(100% - 2rem) !important;
        }
        
        .modal-dialog.modal-lg {
            max-width: 800px !important;
        }
        
        .modal-content {
            /* Glassmorphism styling ONLY - NO positioning */
            border-radius: 0 !important;
            border: 2px solid var(--glass-border) !important;
            background: var(--glass-panel) !important;
            backdrop-filter: blur(25px) !important;
            -webkit-backdrop-filter: blur(25px) !important;
            box-shadow: 0 25px 70px rgba(0, 0, 0, 0.8) !important;
            
            /* Reset any absolute positioning */
            position: relative !important;
            transform: none !important;
        }
        
        .modal-header {
            background: rgba(10, 10, 10, 0.9) !important;
            color: var(--rich-gold) !important;
            border-bottom: 2px solid var(--rich-gold) !important;
        }
        
        .modal-title {
            color: var(--rich-gold) !important;
            font-weight: 700 !important;
        }
        
        .modal-backdrop {
            background-color: rgba(0, 0, 0, 0.7) !important;
        }
        
        /* ================================================================
           ALERT FIX - Below Navbar, Above Content
           ================================================================ */
        
        #global-alert-container {
            position: fixed !important;
            top: calc(var(--navbar-height) + 10px) !important;
            left: 50% !important;
            transform: translateX(-50%) !important;
            width: 90% !important;
            max-width: 800px !important;
            z-index: 1045 !important; /* BELOW modals (1055) */
            pointer-events: none !important;
        }
        
        #global-alert-container .alert {
            pointer-events: auto !important;
            margin-bottom: 10px !important;
            position: relative !important; /* NOT fixed */
            backdrop-filter: blur(12px) !important;
            animation: slideInDown 0.4s ease-out !important;
        }
        
        .alert-success {
            background-color: rgba(212, 175, 55, 0.2) !important;
            color: var(--rich-gold) !important;
            border-color: var(--rich-gold) !important;
        }
        
        @keyframes slideInDown {
            from {
                transform: translateY(-100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        /* ================================================================
           Page Styling
           ================================================================ */
        
        body {
            background: #0A0A0A;
            color: #D1D5DB;
            min-height: 100vh;
            padding-top: var(--navbar-height);
        }
        
        .content-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(212, 175, 55, 0.2);
            padding: 30px;
            margin: 20px;
        }
        
        .btn-primary {
            background: var(--rich-gold) !important;
            color: #0A0A0A !important;
            border: 2px solid var(--rich-gold) !important;
            font-weight: 600;
        }
        
        .table {
            color: #D1D5DB;
        }
        
        /* ================================================================
           Z-INDEX HIERARCHY
           1030 - Navbar
           1045 - Alerts (below modals)
           1050 - Modal Backdrop
           1055 - Modal
           ================================================================ */
    </style>
</head>
<body>

<!-- Fixed Navbar -->
<nav class="navbar fixed-top navbar-dark">
    <div class="container-fluid">
        <span class="navbar-brand mb-0 h1">
            <i class="bi bi-scissors"></i> Elite Salon Admin
        </span>
    </div>
</nav>

<!-- ================================================================
     GLOBAL ALERT CONTAINER
     CRITICAL: Placed below navbar, z-index 1045 (below modals)
     ================================================================ -->
<div id="global-alert-container">
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        <i class="bi bi-check-circle me-2"></i>
        <strong>Success!</strong> Appointment created successfully!
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
</div>

<!-- Page Content -->
<div class="container-fluid">
    <div class="content-card">
        <h2 class="mb-4">Bootstrap Modal & Alert Fix - Example</h2>
        
        <div class="mb-4">
            <h5>âœ… What's Fixed:</h5>
            <ul>
                <li>Modals open at <strong>top of viewport</strong> (below navbar), not at cursor position</li>
                <li>Alerts appear <strong>below navbar</strong> in a global container</li>
                <li>Alerts <strong>never overlap modals</strong> (z-index 1045 vs 1055)</li>
                <li>Glassmorphism styling applied <strong>without breaking positioning</strong></li>
                <li>All Bootstrap features preserved (backdrop, ESC key, click outside)</li>
            </ul>
        </div>
        
        <div class="mb-4">
            <h5>ðŸŽ¯ Test the Fix:</h5>
            <p>Click buttons anywhere on the page - modals will always open at the top, centered:</p>
        </div>
        
        <div class="table-responsive">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Customer</th>
                        <th>Service</th>
                        <th>Date</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>#001</td>
                        <td>John Doe</td>
                        <td>Haircut</td>
                        <td>2026-01-15</td>
                        <td>
                            <button type="button" class="btn btn-sm btn-primary" 
                                    data-bs-toggle="modal" 
                                    data-bs-target="#editModal1">
                                <i class="bi bi-pencil"></i> Edit
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>#002</td>
                        <td>Jane Smith</td>
                        <td>Hair Coloring</td>
                        <td>2026-01-16</td>
                        <td>
                            <button type="button" class="btn btn-sm btn-primary" 
                                    data-bs-toggle="modal" 
                                    data-bs-target="#editModal2">
                                <i class="bi bi-pencil"></i> Edit
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>#003</td>
                        <td>Mike Johnson</td>
                        <td>Beard Trim</td>
                        <td>2026-01-17</td>
                        <td>
                            <button type="button" class="btn btn-sm btn-primary" 
                                    data-bs-toggle="modal" 
                                    data-bs-target="#editModal3">
                                <i class="bi bi-pencil"></i> Edit
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div class="mt-4">
            <button type="button" class="btn btn-primary" 
                    data-bs-toggle="modal" 
                    data-bs-target="#createModal">
                <i class="bi bi-plus-circle"></i> Create New Appointment
            </button>
        </div>
        
        <div class="mt-5 p-3" style="background: rgba(212, 175, 55, 0.1); border-left: 3px solid var(--rich-gold);">
            <h6><i class="bi bi-info-circle"></i> Key Implementation Rules:</h6>
            <ol class="mb-0">
                <li>Use <code>margin-top</code> on <code>.modal-dialog</code> for alignment</li>
                <li>Keep <code>position: relative</code> on modal elements</li>
                <li>Place modals at END of <code>&lt;body&gt;</code> (not inside tables)</li>
                <li>Alert container z-index MUST be lower than modals</li>
                <li>NEVER use <code>position: absolute</code> on modals</li>
            </ol>
        </div>
    </div>
</div>

<!-- ================================================================
     MODALS SECTION
     CRITICAL: Modals placed at document root level (before </body>)
     NEVER nest modals inside tables, rows, or buttons
     ================================================================ -->

<!-- Create Modal -->
<div class="modal fade" id="createModal" tabindex="-1" aria-labelledby="createModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="createModalLabel">Create New Appointment</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="mb-3">
                        <label class="form-label">Customer Name</label>
                        <input type="text" class="form-control" placeholder="Enter customer name">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Service</label>
                        <select class="form-select">
                            <option>Haircut - $30</option>
                            <option>Hair Coloring - $80</option>
                            <option>Beard Trim - $15</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Date & Time</label>
                        <input type="datetime-local" class="form-control">
                    </div>
                </form>
                
                <div class="alert alert-info mb-0">
                    <i class="bi bi-lightbulb"></i>
                    <strong>Note:</strong> This modal opens at the top of the viewport, never at cursor position!
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Create Appointment</button>
            </div>
        </div>
    </div>
</div>

<!-- Edit Modal 1 -->
<div class="modal fade" id="editModal1" tabindex="-1" aria-labelledby="editModal1Label" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editModal1Label">Edit Appointment #001</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p><strong>Customer:</strong> John Doe</p>
                <p><strong>Service:</strong> Haircut</p>
                <div class="mb-3">
                    <label class="form-label">Status</label>
                    <select class="form-select">
                        <option>Pending</option>
                        <option selected>Confirmed</option>
                        <option>Completed</option>
                        <option>Cancelled</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Update</button>
            </div>
        </div>
    </div>
</div>

<!-- Edit Modal 2 -->
<div class="modal fade" id="editModal2" tabindex="-1" aria-labelledby="editModal2Label" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editModal2Label">Edit Appointment #002</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p><strong>Customer:</strong> Jane Smith</p>
                <p><strong>Service:</strong> Hair Coloring</p>
                <div class="mb-3">
                    <label class="form-label">Status</label>
                    <select class="form-select">
                        <option>Pending</option>
                        <option selected>Confirmed</option>
                        <option>Completed</option>
                        <option>Cancelled</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Update</button>
            </div>
        </div>
    </div>
</div>

<!-- Edit Modal 3 -->
<div class="modal fade" id="editModal3" tabindex="-1" aria-labelledby="editModal3Label" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editModal3Label">Edit Appointment #003</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p><strong>Customer:</strong> Mike Johnson</p>
                <p><strong>Service:</strong> Beard Trim</p>
                <div class="mb-3">
                    <label class="form-label">Status</label>
                    <select class="form-select">
                        <option>Pending</option>
                        <option selected>Confirmed</option>
                        <option>Completed</option>
                        <option>Cancelled</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Update</button>
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap 5 JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
